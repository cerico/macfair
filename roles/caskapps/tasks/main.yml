---
- name: Create directory for installed apps
  file:
    path: "~{{ macbook_user.stdout }}/Applications"
    state: directory
    mode: 0775
  tags:
    - caskapps

- name: install cask apps
  become: true
  become_user: "{{ brew_user.stdout }}"
  homebrew_cask:
    name: "{{ item }}"
    state: present
    install_options: "appdir=~{{ macbook_user.stdout }}/Applications/"
  with_items:
    - "vlc"
    - "firefox"
    - "alfred"
    - "iterm2"
    - "vagrant"
    - "vagrant-manager"
    - "tunnelblick"
    - "slack"
    - "visual-studio-code"
    - "brave-browser"
    - "google-chrome"
  tags:
    - caskapps
