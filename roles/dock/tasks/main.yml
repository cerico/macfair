---
- name: Remove superfluous from dock
  shell: dockutil --remove '{{ item }}' | cat
  ignore_errors: true
  with_items:
    - Mail
    - TV
    - News
    - Music
    - Podcasts
    - Calendar
    - Launchpad
    - Contacts
    - Maps
    - Photos
    - Messages
    - FaceTime
    - Notes
    - Reminders
    - App Store
    - System Preferences

- name: Check if items in dock exist
  shell: dockutil --find '{{ item.name }}' || dockutil --add '{{ item.path }}'
  with_items:
    - name: iTerm
      path: "/Users/{{ macbook_user.stdout }}/Applications/iTerm.app"
    - name: "Visual Studio Code"
      path: "/Users/{{ macbook_user.stdout }}/Applications/Visual Studio Code.app"
    - name: Firefox
      path: "/Users/{{ macbook_user.stdout }}/Applications/Firefox.app"
