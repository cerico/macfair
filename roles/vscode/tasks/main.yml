---
- name: install VSCode packages
  shell: "code --install-extension {{ item }}"
  with_items:
    - "astro-build.astro-vscode"
    - "styled-components.vscode-styled-components"
    - "abalejr.forest-focus"
    - "aregghazaryan.glass-ui"
    - "dbaeumer.vscode-eslint"
    - "gerane.Theme-zombiesatemyneighbors"
    - "johnpapa.vscode-peacock"
    - "juhakokkonen.py-light"
    - "karunamurti.haml"
    - "unifiedjs.vscode-mdx"
    - "github.github-vscode-theme"
    - "lintangwisesa.arduino"
    - "lninl.theme-hbuilderx-soft-green-light"
    - "luqimin.tiny-light"
    - "misogi.ruby-rubocop"
    - "raashida.fixthecode-vs"
    - "rebornix.ruby"
    - "selfrefactor.zeppelin-themes"
    - "sveggiani.vscode-field-lights"
    - "syler.sass-indented"
    - "taniarascia.new-moon-vscode"
    - "teabyii.ayu"
    - "tristanremy.mirage"
    - "wingrunr21.vscode-ruby"
    - "wraith13.unsaved-files-vscode"
    - "aaron-bond.better-comments"
    - "eamodio.gitlens"
    - "dbaeumer.vscode-eslint"
    - "dart-code.dart-code"
    - "dart-code.flutter"
    - "ms-vscode.vscode-typescript-tslint-plugin"
    - "ChakrounAnas.turbo-console-log"
    - "humao.rest-client"

- name: copy vscode profile
  copy:
    src: vscode.json
    dest: ~{{ macbook_user.stdout }}/Library/Application Support/Code/User/settings.json

- name: Create snippets directory
  file:
    path:  ~{{ macbook_user.stdout }}/Library/Application Support/Code/User/snippets
    state: directory

- name: Copy snippets
  copy:
    src: "{{ item }}"
    dest: ~{{ macbook_user.stdout }}/Library/Application Support/Code/User/snippets
  with_fileglob:
    - snippets/*
